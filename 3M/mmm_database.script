CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE T_USERS(ID_USER INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,USER_LOGIN VARCHAR(100),USER_FIRSTNAME VARCHAR NOT NULL,USER_LASTNAME VARCHAR NOT NULL,USER_EMAIL VARCHAR NOT NULL,USER_PHONE VARCHAR NOT NULL,USER_COMP VARCHAR,IS_STAFFER BOOLEAN,CONSTRAINT PK_T_USERS PRIMARY KEY(ID_USER),CONSTRAINT PK_T_USERS_0 UNIQUE(USER_FIRSTNAME))
CREATE MEMORY TABLE T_ACTIONS(ID_ACTION INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,ID_USERRESP_CTU INTEGER,ID_USERRESP_AIV INTEGER,ACTION_NAME VARCHAR(100) NOT NULL,ACTION_NUM VARCHAR NOT NULL,DESCRIPTION VARCHAR,COLLAB_LINK VARCHAR,NB_JOURS_ESTIME INTEGER,NB_JOURS_CTU DOUBLE,NB_JOURS_AIV DOUBLE,PRICE DOUBLE,DOCUMENT_LINK VARCHAR,ACTION_ANALYSE VARCHAR,ACTION_RESPONSE VARCHAR,ID_USER INTEGER NOT NULL,ACTION_STATUS VARCHAR(100),IS_DESTROYED BOOLEAN,CONSTRAINT PK_T_ACTIONS PRIMARY KEY(ID_ACTION),CONSTRAINT PK_T_ACTIONS_0 UNIQUE(ACTION_NAME),CONSTRAINT FK_T_ACTIONS_T_USERS_CTU FOREIGN KEY(ID_USERRESP_CTU) REFERENCES T_USERS(ID_USER),CONSTRAINT FK_T_ACTIONS_T_USERS_AIV FOREIGN KEY(ID_USERRESP_AIV) REFERENCES T_USERS(ID_USER))
CREATE INDEX IDX_T_ACTIONS ON T_ACTIONS(ID_USERRESP_CTU)
CREATE INDEX IDX_T_ACTIONS_0 ON T_ACTIONS(ID_USERRESP_AIV)
CREATE MEMORY TABLE T_CONGES(ID_CONGES INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,ID_USER INTEGER NOT NULL,DATE_BEGIN DATE,DATE_END DATE,CONSTRAINT PK_T_CONGES PRIMARY KEY(ID_CONGES),CONSTRAINT FK_T_CONGES FOREIGN KEY(ID_USER) REFERENCES T_USERS(ID_USER))
CREATE INDEX IDX_T_CONGES ON T_CONGES(ID_USER)
CREATE MEMORY TABLE T_PROJET(ID_PROJET INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,ID_USER INTEGER NOT NULL,PROJECT_NAME VARCHAR(100) NOT NULL,PROJECT_NUM VARCHAR,IS_DESTROYED BOOLEAN,CONSTRAINT PK_T_PROJET PRIMARY KEY(ID_PROJET),CONSTRAINT FK_T_PROJET FOREIGN KEY(ID_USER) REFERENCES T_USERS(ID_USER))
CREATE INDEX IDX_T_PROJET ON T_PROJET(ID_USER)
CREATE MEMORY TABLE T_WORKER(ID_USER INTEGER NOT NULL,ID_PROJET INTEGER NOT NULL,CONSTRAINT FK_T_WORKER FOREIGN KEY(ID_USER) REFERENCES T_USERS(ID_USER),CONSTRAINT FK_T_WORKER_0 FOREIGN KEY(ID_PROJET) REFERENCES T_PROJET(ID_PROJET))
CREATE INDEX IDX_T_WORKER ON T_WORKER(ID_USER)
CREATE INDEX IDX_T_WORKER_0 ON T_WORKER(ID_PROJET)
CREATE MEMORY TABLE T_LIVRABLE(ID_LIVRABLE INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,ID_PROJET INTEGER NOT NULL,LIV_NAME VARCHAR(100) NOT NULL,LIV_NUM VARCHAR(100) NOT NULL,NB_JOURS_CTU FLOAT,NB_JOURS_AIV FLOAT,COUT_TOTAL FLOAT,LIV_TYPE VARCHAR(100) NOT NULL,DATE_LIV DATE NOT NULL,LIV_VERSION INTEGER,LIV_STATUS VARCHAR(100),IS_DESTROYED BOOLEAN,CONSTRAINT PK_T_LIVRABLE PRIMARY KEY(ID_LIVRABLE),CONSTRAINT PK_T_LIVRABLE_0 UNIQUE(LIV_NAME),CONSTRAINT FK_T_LIVRABLE FOREIGN KEY(ID_PROJET) REFERENCES T_PROJET(ID_PROJET))
CREATE INDEX IDX_T_LIVRABLE ON T_LIVRABLE(ID_PROJET)
CREATE MEMORY TABLE T_REGROUPE(ID_ACTION INTEGER NOT NULL,ID_LIVRABLE INTEGER NOT NULL,CONSTRAINT FK_T_REGROUPE FOREIGN KEY(ID_ACTION) REFERENCES T_ACTIONS(ID_ACTION),CONSTRAINT FK_T_REGROUPE_0 FOREIGN KEY(ID_LIVRABLE) REFERENCES T_LIVRABLE(ID_LIVRABLE))
CREATE INDEX IDX_T_REGROUPE ON T_REGROUPE(ID_ACTION)
CREATE INDEX IDX_T_REGROUPE_0 ON T_REGROUPE(ID_LIVRABLE)
ALTER TABLE T_USERS ALTER COLUMN ID_USER RESTART WITH 20
ALTER TABLE T_ACTIONS ALTER COLUMN ID_ACTION RESTART WITH 8
ALTER TABLE T_CONGES ALTER COLUMN ID_CONGES RESTART WITH 1
ALTER TABLE T_PROJET ALTER COLUMN ID_PROJET RESTART WITH 3
ALTER TABLE T_LIVRABLE ALTER COLUMN ID_LIVRABLE RESTART WITH 6
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 10
SET SCHEMA PUBLIC
INSERT INTO T_USERS VALUES(1,'ldebat','DEBAT','Laurent','laurent.debat@capgemini.com','0000000000','CapGemini',TRUE)
INSERT INTO T_USERS VALUES(2,'fernoult','ERNOULT','Fran\u00e7ois','francois.ernoult@capgemini.com','0000000000','CapGemini',TRUE)
INSERT INTO T_USERS VALUES(3,'bgehu','GEHU','Bruno','bruno.gehu@capgemini.com','0000000000','CapGemini',TRUE)
INSERT INTO T_USERS VALUES(4,'jiando','DO','Jian-Ying','jian-ying.do@capgemini.com','0000000000','CapGemini',TRUE)
INSERT INTO T_USERS VALUES(5,'nfabre','FABRE','Nicolas','nicolas.fabre@capgemini.com','0000000000','CapGemini',TRUE)
INSERT INTO T_USERS VALUES(6,'fjouanne','JOUANNE','Fabien','fabien.jouanne@c-s.fr','0000000000','CommunicationServices',TRUE)
INSERT INTO T_USERS VALUES(7,'rdupont','DUPONT','Romain','romain.dupont@c-s.fr','0000000000','CommunicationServices',TRUE)
INSERT INTO T_USERS VALUES(8,'schacornac','CHACORNAC','Simon-Pierre','simon-pierre.chacornac@c-s.fr','0000000000','CommunicationServices',TRUE)
INSERT INTO T_USERS VALUES(9,'jlallemant','LALLEMANT','Jean-Claude','jean-claude.lallemant@capgemini.com','0000000000','CapGemini',TRUE)
INSERT INTO T_USERS VALUES(10,'nmarestin','MARESTIN','Nicolas','nicolas.marsetin@airbus.com','0000000000','AirbusDS',TRUE)
INSERT INTO T_USERS VALUES(11,'clefebvre','LEFEBVRE','Charlotte','charlotte.lefebvre@airbus.com','0000000000','AirbusDS',TRUE)
INSERT INTO T_USERS VALUES(12,'jbrutus','BRUTUS','Julien','julien.brutus@airbus.com','0000000000','AirbusDS',TRUE)
INSERT INTO T_USERS VALUES(13,'sbrocard','BROCARD','S\u00e9bastien','sebastien.brocard@airbus.com','0000000000','AirbusDS',TRUE)
INSERT INTO T_USERS VALUES(14,'bsalery','SALERY','Benjamin','benjamin.salery@astrium.eads.fr','0000000000','AirbusDS',TRUE)
INSERT INTO T_USERS VALUES(15,'mrouanet','ROUANET','Matthieu','matthieu.rouanet@capgemini.com','0000000000','NO COMPAGNY',TRUE)
INSERT INTO T_USERS VALUES(16,'jlaval','LAVAL','Jonathan','jonathan.laval@capgemini.com','0000000000','NO COMPAGNY',TRUE)
INSERT INTO T_USERS VALUES(17,'aduflot','DUFLOT','Arthur','arthur.duflot@capgemini.com','00000000','NO COMPAGNY',TRUE)
INSERT INTO T_USERS VALUES(18,'vbhuyles','BHUYLES','Vincent','vincent.bhuyles@capgemini.com','0000000000','NO COMPAGNY',TRUE)
INSERT INTO T_USERS VALUES(19,'mgernigon','GERNIGON','Mickael','mickael.gernigon@capgemini.com','0000000000','NO COMPAGNY',TRUE)
INSERT INTO T_ACTIONS VALUES(1,1,1,'Am\u00e9lioration des fonctions AU de notification','PM 34894',NULL,NULL,0,8.5E0,3.0E0,13720.0E0,NULL,NULL,NULL,2,NULL,FALSE)
INSERT INTO T_ACTIONS VALUES(2,1,1,'Am\u00e9lioration ergonomie diverses AU','PM 34896',NULL,NULL,0,12.0E0,4.0E0,19551.0E0,NULL,NULL,NULL,2,NULL,FALSE)
INSERT INTO T_ACTIONS VALUES(3,1,1,'Acceder au serveur multi-missions OCCAT','PM 33546',NULL,NULL,0,11.5E0,4.5E0,23524.0E0,NULL,NULL,NULL,2,NULL,FALSE)
INSERT INTO T_ACTIONS VALUES(4,1,1,'Optimisation des propagations de requ\u00eates ICR / PR','PM 34514',NULL,NULL,0,2.5E0,1.0E0,5145.0E0,NULL,NULL,NULL,2,NULL,FALSE)
INSERT INTO T_ACTIONS VALUES(5,1,1,'Am\u00e9lioration ergonomie diverses UAS','CR 483',NULL,NULL,0,11.0E0,7.0E0,19545.0E0,NULL,NULL,NULL,2,NULL,FALSE)
INSERT INTO T_ACTIONS VALUES(6,1,1,'Am\u00e9lioration des fonctions UAS de notification','CR 484',NULL,NULL,0,5.5E0,6.0E0,9672.66E0,NULL,NULL,NULL,2,NULL,FALSE)
INSERT INTO T_ACTIONS VALUES(7,1,1,'Modification de la r\u00e9tention des exports ICR','CR 485',NULL,NULL,0,1.0E0,1.0E0,1450.9E0,NULL,NULL,NULL,2,NULL,FALSE)
INSERT INTO T_PROJET VALUES(1,9,'AstroTerra','AST',FALSE)
INSERT INTO T_PROJET VALUES(2,5,'Pl\u00e9iades','PHR',FALSE)
INSERT INTO T_LIVRABLE VALUES(1,1,'V03-02','03-02',0.0E0,0.0E0,0.0E0,'VERSION','2016-06-05',NULL,NULL,FALSE)
INSERT INTO T_LIVRABLE VALUES(2,1,'V03-02-01','03-02-01',0.0E0,0.0E0,0.0E0,'PATCH','2016-06-07',NULL,NULL,FALSE)
INSERT INTO T_LIVRABLE VALUES(3,1,'V04-02','04-02',0.0E0,0.0E0,0.0E0,'VERSION','2016-06-03',NULL,NULL,FALSE)
INSERT INTO T_LIVRABLE VALUES(4,2,'V04-13','04-13',0.0E0,0.0E0,0.0E0,'VERSION','2016-06-17',NULL,NULL,FALSE)
INSERT INTO T_LIVRABLE VALUES(5,2,'V04-12-30','04-12-30',0.0E0,0.0E0,0.0E0,'PATCH','2016-07-08',NULL,NULL,FALSE)
